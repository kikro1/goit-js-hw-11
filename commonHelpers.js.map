{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotoByKeyword(q) {\n    const API_KEY = '42127236-8bfdbbfbeed8a2dadaca720e8';\n    const BASE_URL = 'https://pixabay.com/api/?key=';\n    const PARAMS = `&q=${q}&`;\n  \n    const OPTIONS = new URLSearchParams({\n      image_type: 'photo',\n      orientation: 'horisontal',\n      safesearch: true,\n    });\n    const URL = BASE_URL + API_KEY + PARAMS + OPTIONS;\n    return fetch(URL).then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    });\n  }\n  ","export function loadGallery(data) {\n    const markup = data.hits.map(data => {\n      return `<li class=\"gallery-item\">\n          <a href=\"${data.largeImageURL}\"><img src=\"${data.webformatURL}\" alt=\"${data.tags}\" class=\"gallery-image\" /></a>\n          <div class=\"gallery-wrap\">\n          <p><b>Likes</b><br />${data.likes}</p>\n          <p><b>Views</b><br />${data.views}</p>\n          <p><b>Comments</b><br />${data.comments}</p>\n          <p><b>Downloads</b><br />${data.downloads}</p>\n          </div>\n        </li>`;\n    });\n    return markup.join('');\n  }","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotoByKeyword } from './js/pixabay-api.js';\nimport { loadGallery } from './js/render-functions.js';\n\nconst refs = {\n  formRef: document.querySelector('.form'),\n  formInputRef: document.querySelector('.form-input'),\n  galleryRef: document.querySelector('.gallery'),\n  loaderRef: document.querySelector('.loader'),\n};\nconst lightboxOptions = {\n  captionDelay: 250,\n  captionsData: 'alt',\n};\nrefs.formRef.addEventListener('submit', e => {\n  refs.loaderRef.classList.remove('hide-loader');\n  e.preventDefault();\n  if (refs.formInputRef.value.trim() === '') {\n    refs.formRef.reset();\n    refs.galleryRef.innerHTML = '';\n    refs.loaderRef.classList.add('hide-loader');\n  } else {\n    getPhotoByKeyword(refs.formInputRef.value)\n      .then(data => {\n        refs.formRef.reset();\n        if (data.hits.length === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please, try again!',\n            messageColor: 'white',\n            backgroundColor: 'red',\n            position: 'topRight',\n            maxWidth: 432,\n          });\n        }\n\n        refs.galleryRef.innerHTML = loadGallery(data);\n        const lightbox = new SimpleLightbox('.gallery a', lightboxOptions);\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n      })\n      .catch(err =>\n        iziToast.error({\n          message: err,\n          position: 'topRight',\n          maxWidth: 432,\n        })\n      )\n      .finally(() => {\n        refs.loaderRef.classList.add('hide-loader');\n      });\n  }\n});"],"names":["getPhotoByKeyword","q","API_KEY","BASE_URL","PARAMS","OPTIONS","URL","res","loadGallery","data","refs","lightboxOptions","e","iziToast","lightbox","SimpleLightbox","err"],"mappings":"6vBAAO,SAASA,EAAkBC,EAAG,CACjC,MAAMC,EAAU,qCACVC,EAAW,gCACXC,EAAS,MAAMH,CAAC,IAEhBI,EAAU,IAAI,gBAAgB,CAClC,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACKC,EAAMH,EAAWD,EAAUE,EAASC,EAC1C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,CACL,CCjBO,SAASC,EAAYC,EAAM,CAY9B,OAXeA,EAAK,KAAK,IAAIA,GACpB;AAAA,qBACQA,EAAK,aAAa,eAAeA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,iCAEzDA,EAAK,KAAK;AAAA,iCACVA,EAAK,KAAK;AAAA,oCACPA,EAAK,QAAQ;AAAA,qCACZA,EAAK,SAAS;AAAA;AAAA,cAG9C,EACa,KAAK,EAAE,CACzB,CCJA,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,OAAO,EACvC,aAAc,SAAS,cAAc,aAAa,EAClD,WAAY,SAAS,cAAc,UAAU,EAC7C,UAAW,SAAS,cAAc,SAAS,CAC7C,EACMC,EAAkB,CACtB,aAAc,IACd,aAAc,KAChB,EACAD,EAAK,QAAQ,iBAAiB,SAAUE,GAAK,CAC3CF,EAAK,UAAU,UAAU,OAAO,aAAa,EAC7CE,EAAE,eAAc,EACZF,EAAK,aAAa,MAAM,KAAI,IAAO,IACrCA,EAAK,QAAQ,QACbA,EAAK,WAAW,UAAY,GAC5BA,EAAK,UAAU,UAAU,IAAI,aAAa,GAE1CV,EAAkBU,EAAK,aAAa,KAAK,EACtC,KAAKD,GAAQ,CACZC,EAAK,QAAQ,QACTD,EAAK,KAAK,SAAW,GACvBI,EAAS,MAAM,CACb,QACE,4EACF,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,SAAU,GACtB,CAAW,EAGHH,EAAK,WAAW,UAAYF,EAAYC,CAAI,EAC5C,MAAMK,EAAW,IAAIC,EAAe,aAAcJ,CAAe,EACjEG,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACxB,CAAO,EACA,MAAME,GACLH,EAAS,MAAM,CACb,QAASG,EACT,SAAU,WACV,SAAU,GACpB,CAAS,CACF,EACA,QAAQ,IAAM,CACbN,EAAK,UAAU,UAAU,IAAI,aAAa,CAClD,CAAO,CAEP,CAAC"}